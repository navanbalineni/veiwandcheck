 <!DOCTYPE html>



<html lang="en">



<head>

    <link rel="icon" href="data:,">

    <meta charset="UTF-8">



    <meta name="viewport" content="width=device-width, initial-scale=1.0">



    <title>View & Check | Product Audit Core</title>



    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">



    <style>



        :root {



            --primary: #6366f1; --dark: #0f172a; --success: #10b981;



            --danger: #ef4444; --warning: #f59e0b; --bg: #f8fafc; --card: #ffffff;



        }



        body {



            font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg);



            color: var(--dark); margin: 0; padding: 40px 20px; display: flex; flex-direction: column; align-items: center;



        }



        .container { max-width: 1100px; width: 100%; }



        header { text-align: center; margin-bottom: 40px; }



        header h1 { font-size: 2.5rem; font-weight: 800; letter-spacing: -2px; margin: 0; }



        header h1 span { color: var(--primary); }



        header p { color: #64748b; font-weight: 500; }







        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 40px; }



        .panel {



            background: var(--card); padding: 30px; border-radius: 24px;



            border: 1px solid #e2e8f0; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05);



        }



        .label { font-size: 0.75rem; font-weight: 800; color: #94a3b8; text-transform: uppercase; margin-bottom: 15px; display: block; }







        input[type="text"] {



            width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 12px; font-family: 'JetBrains Mono', monospace; outline: none;



        }



        .btn-check {



            grid-column: span 2; background: var(--dark); color: white; padding: 20px;



            border-radius: 16px; border: none; font-weight: 800; font-size: 1.1rem; cursor: pointer; transition: 0.3s;



        }



        .btn-check:hover { background: var(--primary); transform: translateY(-2px); }







        .report-card {



            background: white; border-radius: 30px; padding: 40px; border: 1px solid #e2e8f0;



            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.1); animation: slideUp 0.5s ease-out;



        }



        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; }



        .stat-box { background: #f8fafc; padding: 20px; border-radius: 20px; text-align: center; border: 1px solid #f1f5f9; }



        .stat-val { font-size: 1.2rem; font-weight: 800; font-family: 'JetBrains Mono'; display: block;}



        .badge { padding: 6px 14px; border-radius: 8px; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; background: #e0f2fe; color: #0369a1; margin-right:5px; }



       



        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }



    </style>



</head>



<body>







<div class="container">



    <header>



        <h1>VIEW<span>&</span>CHECK</h1>



        <p>Advanced Regulatory Product Authentication System</p>



    </header>







    <div class="input-grid">



        <div class="panel">



            <span class="label">Product ID / Barcode</span>



            <input type="text" id="manualCode" placeholder="Enter barcode...">



        </div>



        <div class="panel">



            <span class="label">Optical Extraction</span>



            <input type="file" id="fileInput">



        </div>



        <button class="btn-check" onclick="startAudit()">INITIALIZE DEEP AUDIT</button>



    </div>







    <div id="resultArea"></div>



</div>







<script>



    async function startAudit() {



        const code = document.getElementById('manualCode').value;



        const file = document.getElementById('fileInput').files[0];



        const display = document.getElementById('resultArea');



        // Change this line in your <script>



        const API_BASE = "/api";// Connects to your Python backend







        if (!code && !file) return alert("Please provide input.");



        display.innerHTML = "<div class='panel' style='text-align:center'>üîÑ Synchronizing with Global Safety Registries...</div>";







        const fd = new FormData();



        if (code) fd.append("manual_barcode", code);



        if (file) fd.append("file", file);







        try {



            const res = await fetch(`${API_BASE}/scan`, { method: "POST", body: fd });



            const data = await res.json();







            if (data.success && data.data[0].details.found) {



                const d = data.data[0].details;



                const statusColor = d.health.safety_status === "GOOD" ? "var(--success)" : "var(--danger)";



               



                display.innerHTML = `



                    <div class="report-card">



                        <div style="display:flex; gap:10px; margin-bottom:15px">



                            <span class="badge" style="background:${statusColor}; color:white">HEALTH: ${d.health.safety_status}</span>



                            <span class="badge">ORIGIN: ${d.origin}</span>



                        </div>



                        <h1 style="margin:0;">${d.name}</h1>



                        <p style="color:var(--primary); font-weight:700; margin-top:5px;">ID: ${d.barcode} | BRAND: ${d.brand}</p>







                        <div class="stats-row">



                            <div class="stat-box"><span class="label">GOVT AUTH</span><span class="stat-val" style="color:var(--success)">VERIFIED</span></div>



                            <div class="stat-box"><span class="label">PROCESS LVL</span><span class="stat-val">${d.health.processing_lvl}</span></div>



                            <div class="stat-box"><span class="label">ADDITIVES</span><span class="stat-val">${d.health.chemical_count} DETECTED</span></div>



                        </div>







                        <div style="background:#f8fafc; padding:20px; border-radius:15px; margin-bottom:15px;">



                            <span class="label">Additives Found</span>



                            <p style="font-family:'JetBrains Mono'; font-size:0.85rem;">${d.health.chemical_list.join(', ') || 'None'}</p>



                        </div>







                        <div style="background:#f8fafc; padding:20px; border-radius:15px;">



                            <span class="label">Ingredient List</span>



                            <p style="font-size:0.9rem; line-height:1.6;">${d.ingredients}</p>



                        </div>



                    </div>



                `;



            } else {



                display.innerHTML = "<div class='panel' style='text-align:center; color:var(--danger)'>‚ùå Product Not Found.</div>";



            }



        } catch (e) {



            display.innerHTML = "<div class='panel' style='text-align:center; color:var(--danger)'>üì° Connection Error.</div>";



        }



    }



</script>



</body>



</html>  